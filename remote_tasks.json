[
  {
    "id": "auto_follow_verified",
    "title": "å…³æ³¨ä»»åŠ¡",
    "desc": "äº‘ç«¯åŒæ­¥ï¼šè‡ªåŠ¨å…³æ³¨3ä¸ªè®¤è¯å¤§V",
    "icon": "@drawable/ic_person_add_black_48dp",
    "color": "#FF9800",
    "code": "function() { const tk = storage.get('token', ''); const uid = storage.get('userid', ''); if (!tk || !uid) return uiLog('âŒ è¿œç¨‹ä»»åŠ¡ï¼šæœªé…ç½®èº«ä»½'); try { uiLog('ðŸ” æ­£åœ¨èŽ·å–æŽ¨èåˆ—è¡¨...'); let res = http.postJson('https://kohcamp.qq.com/user/getrecommendusers', { 'recommendPrivacy': 0, 'pageSize': 15, 'page': 0, 'confirmTypeEn': 'tuijian' }, { headers: { 'token': tk, 'userid': uid, 'User-Agent': 'okhttp/4.9.1' } }); let resData = res.body.json(); if (resData.returnCode !== 0) return uiLog('âŒ èŽ·å–åˆ—è¡¨å¤±è´¥: ' + resData.returnMsg); let allUsers = resData.data.list || []; /* ç­›é€‰ï¼šæœ‰è®¤è¯(userconfirm==1) ä¸” æœªå…³æ³¨(relation==5 ä»£è¡¨æœªå…³æ³¨) */ let targetUsers = allUsers.filter(item => { let info = item.info || {}; let confirm = info.confirmInfo || {}; return confirm.userconfirm === 1 && info.relation === 5; }); uiLog('ðŸ‘¥ å‘çŽ°å¯å…³æ³¨è®¤è¯ç”¨æˆ·: ' + targetUsers.length + 'ä½'); if (targetUsers.length === 0) return uiLog('â„¹ï¸ æš‚æ— ç¬¦åˆæ¡ä»¶çš„æœªå…³æ³¨å¤§V'); /* éšæœºæ‰“ä¹±å¹¶å–å‰3ä¸ª */ targetUsers.sort(() => Math.random() - 0.5); let count = 0; for (let i = 0; i < Math.min(targetUsers.length, 3); i++) { let user = targetUsers[i].info.user.user; uiLog('âž• æ­£åœ¨å…³æ³¨: ' + user.nickName); let followRes = http.postJson('https://kohcamp.qq.com/user/addattention', { 'recommendPrivacy': 0, 'friendUserId': String(user.userId) }, { headers: { 'token': tk, 'userid': uid, 'User-Agent': 'okhttp/4.9.1' } }); let fData = followRes.body.json(); if (fData.returnCode == 0) { uiLog('âœ… å…³æ³¨æˆåŠŸ: ' + user.nickName); count++; } else { uiLog('âš ï¸ ' + user.nickName + ': ' + fData.returnMsg); } sleep(1500); } uiLog('ðŸ å…³æ³¨ä»»åŠ¡ç»“æŸï¼Œå…±è®¡å®Œæˆ: ' + count); } catch (e) { uiLog('âŒ å…³æ³¨ä»»åŠ¡å¼‚å¸¸: ' + e.message); } }"
  }
]

